# Compiler-SysY-MIPS
2025秋季北京航空航天大学编译技术课程实验作业，源语言为SysY，目标代码为MIPS的编译器，使用C++语言开发。

## 关于个人感受
编译的实验作业终于彻底完结撒花了！！！9036行呀！不知道多少个日日夜夜守在电脑前只为了这一门课疯狂。

编译技术课程的实验作业是我独立写的第一个大型项目，在开发时中遇到了很多困难，当然也学到了很多，虽然过程艰难，但最终总算是完成了。开发时遇到de不出来的bug还是要多在讨论区和同学助教交流，好多隐蔽的报错点经过讨论区的佬们的点拨一下子就通了。

我开发过程中没有参考任何开源的编译器项目，主要是刚开学时在github上翻看没有找到比较中意的。不过整个项目开发完成后在回过头来翻看github发现还是有不少往届学长的开源项目很有参考价值的。我感觉在开发过程中还是有一个参考的项目会对开发更有帮助一些。

实验作业的竞速排序我写了一部分，但是提交上去之后感觉和优化前差别不大……可能是我做的优化毕竟有限，优化器只有短短700多行代码，仅仅完成了常量传播与折叠，代数化简与强度削减，局部公共子表达式删除，复写传播，死代码删除和窥孔优化，还有把寄存器分配的策略从FIFO改为了LRU，其他的优化就没做了，并且优化策略极其保守，以保证正确性优先（主要是本DDL战神写优化的时候已经没多少时间了，时间充足感觉还能多做一点）。源码放出来仅供参考吧，希望大家能写出更加优秀的优化代码。

在开发过程中我大量使用了AI工具辅助开发，感觉没有ChatGPT和Gemini根本活不下去……但是我认为项目开发AI只能作为参考，比较有用的是辅助分析和在提供的详细的设计思想的情况下进行代码编写。不过我在写词法分析部分的时候将作业要求发给ChatGPT为我生成了一份提交到平台上直接全AC了，我当时都震惊了……但是这也仅限于词法分析这一比较简单的部分，其他作业AI生成的源码都是BUG满天飞。说到这里，编译实验作业的难度曲线一直是被人诟病的一点，刚开始的文法解读，词法分析作业可能仅需几个小时就能完成，但是后面的语法分析，语义分析，代码生成部分难度是成倍递增的，不管是代码量还是逻辑难度。

在写前面几次作业时，我认为不仅仅应当把通过OJ作为目标，语法分析部分设计一个符合文法的语法树，语义分析部分设计一份详尽的符号表，这些可能对通过当次作业没有什么帮助，但是能为后续开发省下大量时间精力。我设计的语法树在一开始和文法有很多不同之处，后续对我语义分析和代码生成部分造成了很大麻烦。我不得不多次重新修改语法分析部分设计的语法树，或者为了适应不完善的语法树在后续的代码编写中错上加错。

在编写代码过程中，特别是后面几次作业，我在项目中添加了很多向控制台输出调试信息的代码，所以如果运行项目时控制台输出太多信息不要太在意……如果觉得不美观的话也可以删掉。另外，我在开发过程中include了<windows.h>来解决CLion中输出中文乱码的问题，但是评测台并不支持，所以我会在在开发时引用，提交时注释掉。

总的来说，编译技术的实验作业虽然难度大，但是认真完成后，我认为对开发能力还是有很大提升的。我上传的源码仅供读者参考，抛转引玉，每一年编译实验课程的文法都会有些许变化，课程组也会对提交的代码进行详细的查重，所以希望读者参考而不是全盘抄袭。祝愿每一位北航21系/6系的后辈都可以编译实验全AC！

## 关于拉取本项目





## 附：各次作业通过测试的截图。

<p align="center">
  <img src="Evaluation Results/文法解读.png" width="600">
</p>

<p align="center">
  <img src="Evaluation Results/词法分析.png" width="600">
</p>

<p align="center">
  <img src="Evaluation Results/语法分析.png" width="600">
</p>

<p align="center">
  <img src="Evaluation Results/语义分析.png" width="600">
</p>

<p align="center">
  <img src="Evaluation Results/代码生成一.png" width="600">
</p>

<p align="center">
  <img src="Evaluation Results/代码生成二.png" width="600">
</p>

<p align="center">
  <img src="Evaluation Results/竞速排序.png" width="600">
</p>








